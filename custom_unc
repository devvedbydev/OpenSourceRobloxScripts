-- Define the global function 'fireclickdetector'
getgenv().fireclickdetector = function(clickDetector, clickPosition, eventType)
    -- Validate input
    if not (clickDetector and clickDetector:IsA("ClickDetector")) then
        warn("Provided object is not a ClickDetector.")
        return
    end

    -- Ensure LocalPlayer is available
    local player = game.Players.LocalPlayer
    if not player then
        warn("LocalPlayer is not available.")
        return
    end

    -- Simulate a click
    -- Create a Vector3 position for the click
    local clickPositionVector = Vector3.new(0, 0, 0) -- Default click position

    if clickPosition then
        -- Adjust clickPositionVector based on the provided clickPosition
        clickPositionVector = clickDetector.Parent.Position + Vector3.new(clickPosition, 0, 0) -- Example adjustment
    end

    -- Trigger the MouseClick event
    if clickDetector.MouseClick then
        -- Simulate MouseClick with player and position
        clickDetector.MouseClick:Fire(player, clickPositionVector)
    else
        warn("MouseClick event is not available on this ClickDetector.")
    end
end
